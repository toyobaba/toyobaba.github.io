<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Unit 9 Final Exam | Analytics Edge - EdX</title>
  <meta name="description" content="EdX Analytics Edge, Notes and Assignments" />
  <meta name="generator" content="bookdown 0.16 and GitBook 2.6.7" />

  <meta property="og:title" content="Unit 9 Final Exam | Analytics Edge - EdX" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="EdX Analytics Edge, Notes and Assignments" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Unit 9 Final Exam | Analytics Edge - EdX" />
  
  <meta name="twitter:description" content="EdX Analytics Edge, Notes and Assignments" />
  

<meta name="author" content="omotoyosi Taiwo" />


<meta name="date" content="2019-12-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="visualization.html"/>

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Analytics Edge - EdX</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> EdX Analytics Edge Notebook</a></li>
<li class="chapter" data-level="2" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>2</b> Introduction</a><ul>
<li class="chapter" data-level="2.1" data-path="introduction.html"><a href="introduction.html#working-with-data"><i class="fa fa-check"></i><b>2.1</b> Working with data</a><ul>
<li class="chapter" data-level="2.1.1" data-path="introduction.html"><a href="introduction.html#loading-data-files"><i class="fa fa-check"></i><b>2.1.1</b> Loading data files</a></li>
<li class="chapter" data-level="2.1.2" data-path="introduction.html"><a href="introduction.html#summary-statistics"><i class="fa fa-check"></i><b>2.1.2</b> Summary Statistics</a></li>
<li class="chapter" data-level="2.1.3" data-path="introduction.html"><a href="introduction.html#plots"><i class="fa fa-check"></i><b>2.1.3</b> Plots</a></li>
<li class="chapter" data-level="2.1.4" data-path="introduction.html"><a href="introduction.html#summary-tables"><i class="fa fa-check"></i><b>2.1.4</b> Summary tables</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="introduction.html"><a href="introduction.html#recitation---usda-food-database"><i class="fa fa-check"></i><b>2.2</b> Recitation - USDA Food Database</a><ul>
<li class="chapter" data-level="2.2.1" data-path="introduction.html"><a href="introduction.html#data-analysis---recitation"><i class="fa fa-check"></i><b>2.2.1</b> Data Analysis - Recitation</a></li>
<li class="chapter" data-level="2.2.2" data-path="introduction.html"><a href="introduction.html#histogram---recitation"><i class="fa fa-check"></i><b>2.2.2</b> Histogram - Recitation</a></li>
<li class="chapter" data-level="2.2.3" data-path="introduction.html"><a href="introduction.html#summary-tables---recitation"><i class="fa fa-check"></i><b>2.2.3</b> Summary tables - Recitation</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="introduction.html"><a href="introduction.html#assignment"><i class="fa fa-check"></i><b>2.3</b> Assignment</a><ul>
<li class="chapter" data-level="2.3.1" data-path="introduction.html"><a href="introduction.html#part-1---analytical-detective"><i class="fa fa-check"></i><b>2.3.1</b> Part 1 - Analytical Detective</a></li>
<li class="chapter" data-level="2.3.2" data-path="introduction.html"><a href="introduction.html#part-2---stock-dynamics"><i class="fa fa-check"></i><b>2.3.2</b> Part 2 - Stock Dynamics</a></li>
<li class="chapter" data-level="2.3.3" data-path="introduction.html"><a href="introduction.html#part-3---demographics-and-employment-in-the-united-states"><i class="fa fa-check"></i><b>2.3.3</b> Part 3 - Demographics and Employment in the United States</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="linear-regression.html"><a href="linear-regression.html"><i class="fa fa-check"></i><b>3</b> Linear Regression</a><ul>
<li class="chapter" data-level="3.1" data-path="linear-regression.html"><a href="linear-regression.html#introduction-to-linear-regression"><i class="fa fa-check"></i><b>3.1</b> Introduction to Linear Regression</a><ul>
<li class="chapter" data-level="3.1.1" data-path="linear-regression.html"><a href="linear-regression.html#variable-linear-regression-model---predicting-wine-quality"><i class="fa fa-check"></i><b>3.1.1</b> 1 variable Linear Regression Model - Predicting Wine Quality</a></li>
<li class="chapter" data-level="3.1.2" data-path="linear-regression.html"><a href="linear-regression.html#multiple-linear-regression-model"><i class="fa fa-check"></i><b>3.1.2</b> Multiple Linear Regression Model</a></li>
<li class="chapter" data-level="3.1.3" data-path="linear-regression.html"><a href="linear-regression.html#correlation-and-muticollinearity"><i class="fa fa-check"></i><b>3.1.3</b> Correlation and Muticollinearity</a></li>
<li class="chapter" data-level="3.1.4" data-path="linear-regression.html"><a href="linear-regression.html#making-predictions"><i class="fa fa-check"></i><b>3.1.4</b> Making Predictions</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="linear-regression.html"><a href="linear-regression.html#recitation-2---moneyball-in-the-nba"><i class="fa fa-check"></i><b>3.2</b> Recitation 2 - MOneyball in the NBA</a><ul>
<li class="chapter" data-level="3.2.1" data-path="linear-regression.html"><a href="linear-regression.html#regression-model-using-more-than-just-wins-variable"><i class="fa fa-check"></i><b>3.2.1</b> Regression model using more than just Wins variable</a></li>
<li class="chapter" data-level="3.2.2" data-path="linear-regression.html"><a href="linear-regression.html#making-predictions-1"><i class="fa fa-check"></i><b>3.2.2</b> Making Predictions</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="linear-regression.html"><a href="linear-regression.html#assignment-1"><i class="fa fa-check"></i><b>3.3</b> Assignment</a><ul>
<li class="chapter" data-level="3.3.1" data-path="linear-regression.html"><a href="linear-regression.html#part-1---climate-change"><i class="fa fa-check"></i><b>3.3.1</b> Part 1 - Climate Change</a></li>
<li class="chapter" data-level="3.3.2" data-path="linear-regression.html"><a href="linear-regression.html#part-2---detecting-flu-epidemics"><i class="fa fa-check"></i><b>3.3.2</b> Part 2 - Detecting Flu Epidemics</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="logistic-regression.html"><a href="logistic-regression.html"><i class="fa fa-check"></i><b>4</b> Logistic Regression</a><ul>
<li class="chapter" data-level="4.1" data-path="logistic-regression.html"><a href="logistic-regression.html#introduction-to-logistic-regression"><i class="fa fa-check"></i><b>4.1</b> Introduction to Logistic Regression</a><ul>
<li class="chapter" data-level="4.1.1" data-path="logistic-regression.html"><a href="logistic-regression.html#thresholding"><i class="fa fa-check"></i><b>4.1.1</b> Thresholding</a></li>
<li class="chapter" data-level="4.1.2" data-path="logistic-regression.html"><a href="logistic-regression.html#roc-curves"><i class="fa fa-check"></i><b>4.1.2</b> ROC Curves</a></li>
<li class="chapter" data-level="4.1.3" data-path="logistic-regression.html"><a href="logistic-regression.html#making-predictions-2"><i class="fa fa-check"></i><b>4.1.3</b> Making predictions</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="logistic-regression.html"><a href="logistic-regression.html#framingham-heart-study"><i class="fa fa-check"></i><b>4.2</b> Framingham Heart study</a></li>
<li class="chapter" data-level="4.3" data-path="logistic-regression.html"><a href="logistic-regression.html#recitation-3---election-forecasting"><i class="fa fa-check"></i><b>4.3</b> Recitation 3 - Election Forecasting</a><ul>
<li class="chapter" data-level="4.3.1" data-path="logistic-regression.html"><a href="logistic-regression.html#a-sophisticated-baseline-model"><i class="fa fa-check"></i><b>4.3.1</b> A sophisticated baseline model</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="logistic-regression.html"><a href="logistic-regression.html#assignment-2"><i class="fa fa-check"></i><b>4.4</b> Assignment</a><ul>
<li class="chapter" data-level="4.4.1" data-path="logistic-regression.html"><a href="logistic-regression.html#part-1---popularity-of-music-records"><i class="fa fa-check"></i><b>4.4.1</b> Part 1 - Popularity of Music Records</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="classification-and-regression-trees-cart.html"><a href="classification-and-regression-trees-cart.html"><i class="fa fa-check"></i><b>5</b> Classification and Regression Trees (CART)</a><ul>
<li class="chapter" data-level="5.1" data-path="classification-and-regression-trees-cart.html"><a href="classification-and-regression-trees-cart.html#introduction-to-trees---judge-jury-and-classifier"><i class="fa fa-check"></i><b>5.1</b> Introduction to trees - Judge, Jury, and Classifier</a><ul>
<li class="chapter" data-level="5.1.1" data-path="classification-and-regression-trees-cart.html"><a href="classification-and-regression-trees-cart.html#random-forests"><i class="fa fa-check"></i><b>5.1.1</b> Random Forests</a></li>
<li class="chapter" data-level="5.1.2" data-path="classification-and-regression-trees-cart.html"><a href="classification-and-regression-trees-cart.html#cross-validation"><i class="fa fa-check"></i><b>5.1.2</b> Cross validation</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="classification-and-regression-trees-cart.html"><a href="classification-and-regression-trees-cart.html#the-d2hawkeye-story"><i class="fa fa-check"></i><b>5.2</b> The D2Hawkeye Story</a><ul>
<li class="chapter" data-level="5.2.1" data-path="classification-and-regression-trees-cart.html"><a href="classification-and-regression-trees-cart.html#baseline-method-and-penalty-matrix"><i class="fa fa-check"></i><b>5.2.1</b> Baseline method and Penalty Matrix</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="classification-and-regression-trees-cart.html"><a href="classification-and-regression-trees-cart.html#recitation---boston-housing-data-regression-trees"><i class="fa fa-check"></i><b>5.3</b> Recitation - Boston Housing Data (Regression Trees)</a><ul>
<li class="chapter" data-level="5.3.1" data-path="classification-and-regression-trees-cart.html"><a href="classification-and-regression-trees-cart.html#geographical-predictions"><i class="fa fa-check"></i><b>5.3.1</b> Geographical Predictions</a></li>
<li class="chapter" data-level="5.3.2" data-path="classification-and-regression-trees-cart.html"><a href="classification-and-regression-trees-cart.html#cross-validation-1"><i class="fa fa-check"></i><b>5.3.2</b> Cross validation</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="classification-and-regression-trees-cart.html"><a href="classification-and-regression-trees-cart.html#assignment-3"><i class="fa fa-check"></i><b>5.4</b> Assignment</a><ul>
<li class="chapter" data-level="5.4.1" data-path="classification-and-regression-trees-cart.html"><a href="classification-and-regression-trees-cart.html#part-1---understanding-why-people-vote"><i class="fa fa-check"></i><b>5.4.1</b> Part 1 - Understanding why people vote</a></li>
<li class="chapter" data-level="5.4.2" data-path="classification-and-regression-trees-cart.html"><a href="classification-and-regression-trees-cart.html#part-2---letter-recognition"><i class="fa fa-check"></i><b>5.4.2</b> Part 2 - Letter Recognition</a></li>
<li class="chapter" data-level="5.4.3" data-path="classification-and-regression-trees-cart.html"><a href="classification-and-regression-trees-cart.html#part-3---predicting-earnings-from-census-data"><i class="fa fa-check"></i><b>5.4.3</b> Part 3 - Predicting Earnings from Census Data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="text-analytics.html"><a href="text-analytics.html"><i class="fa fa-check"></i><b>6</b> Text Analytics</a><ul>
<li class="chapter" data-level="6.1" data-path="text-analytics.html"><a href="text-analytics.html#introduction-to-text-analytics"><i class="fa fa-check"></i><b>6.1</b> Introduction to Text Analytics</a><ul>
<li class="chapter" data-level="6.1.1" data-path="text-analytics.html"><a href="text-analytics.html#turning-tweets-into-knowledge"><i class="fa fa-check"></i><b>6.1.1</b> Turning Tweets into knowledge</a></li>
<li class="chapter" data-level="6.1.2" data-path="text-analytics.html"><a href="text-analytics.html#preprocessing-data"><i class="fa fa-check"></i><b>6.1.2</b> Preprocessing data</a></li>
<li class="chapter" data-level="6.1.3" data-path="text-analytics.html"><a href="text-analytics.html#build-a-cart-model"><i class="fa fa-check"></i><b>6.1.3</b> Build a CART model</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="text-analytics.html"><a href="text-analytics.html#recitation---the-story-of-enron"><i class="fa fa-check"></i><b>6.2</b> Recitation - The Story of Enron</a><ul>
<li class="chapter" data-level="6.2.1" data-path="text-analytics.html"><a href="text-analytics.html#bag-of-words"><i class="fa fa-check"></i><b>6.2.1</b> Bag of Words</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="text-analytics.html"><a href="text-analytics.html#assignment-4"><i class="fa fa-check"></i><b>6.3</b> Assignment</a><ul>
<li class="chapter" data-level="6.3.1" data-path="text-analytics.html"><a href="text-analytics.html#part-1---detecting-vandalism-on-wikipedia"><i class="fa fa-check"></i><b>6.3.1</b> Part 1 - Detecting Vandalism on Wikipedia</a></li>
<li class="chapter" data-level="6.3.2" data-path="text-analytics.html"><a href="text-analytics.html#part-2---automating-reviews-in-medicine"><i class="fa fa-check"></i><b>6.3.2</b> Part 2 - Automating Reviews in Medicine</a></li>
<li class="chapter" data-level="6.3.3" data-path="text-analytics.html"><a href="text-analytics.html#part-3---separating-spam-from-ham"><i class="fa fa-check"></i><b>6.3.3</b> Part 3 - Separating Spam from Ham</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="clustering.html"><a href="clustering.html"><i class="fa fa-check"></i><b>7</b> Clustering</a><ul>
<li class="chapter" data-level="7.1" data-path="clustering.html"><a href="clustering.html#introduction-to-clustering"><i class="fa fa-check"></i><b>7.1</b> Introduction to Clustering</a><ul>
<li class="chapter" data-level="7.1.1" data-path="clustering.html"><a href="clustering.html#heirarchical-clustering"><i class="fa fa-check"></i><b>7.1.1</b> Heirarchical Clustering</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="clustering.html"><a href="clustering.html#recitation---segmenting-images"><i class="fa fa-check"></i><b>7.2</b> Recitation - Segmenting Images</a><ul>
<li class="chapter" data-level="7.2.1" data-path="clustering.html"><a href="clustering.html#flower-image"><i class="fa fa-check"></i><b>7.2.1</b> Flower Image</a></li>
<li class="chapter" data-level="7.2.2" data-path="clustering.html"><a href="clustering.html#mri-image"><i class="fa fa-check"></i><b>7.2.2</b> MRI Image</a></li>
<li class="chapter" data-level="7.2.3" data-path="clustering.html"><a href="clustering.html#k-means-clustering"><i class="fa fa-check"></i><b>7.2.3</b> K-Means Clustering</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="clustering.html"><a href="clustering.html#assignment-5"><i class="fa fa-check"></i><b>7.3</b> Assignment</a><ul>
<li class="chapter" data-level="7.3.1" data-path="clustering.html"><a href="clustering.html#part-1---document-clustering-with-daily-kos"><i class="fa fa-check"></i><b>7.3.1</b> Part 1 - Document Clustering with Daily Kos</a></li>
<li class="chapter" data-level="7.3.2" data-path="clustering.html"><a href="clustering.html#part-2---market-segmentation-for-airlines"><i class="fa fa-check"></i><b>7.3.2</b> Part 2 - Market Segmentation for Airlines</a></li>
<li class="chapter" data-level="7.3.3" data-path="clustering.html"><a href="clustering.html#part-3---predicting-stock-returns-with-cluster-then-predict"><i class="fa fa-check"></i><b>7.3.3</b> Part 3 - Predicting Stock Returns with Cluster-Then-Predict</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="visualization.html"><a href="visualization.html"><i class="fa fa-check"></i><b>8</b> Visualization</a><ul>
<li class="chapter" data-level="8.1" data-path="visualization.html"><a href="visualization.html#scatterplots---visualizing-the-world"><i class="fa fa-check"></i><b>8.1</b> Scatterplots - Visualizing the world</a><ul>
<li class="chapter" data-level="8.1.1" data-path="visualization.html"><a href="visualization.html#basic-scatterplots-using-ggplot"><i class="fa fa-check"></i><b>8.1.1</b> Basic scatterplots using ggplot</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="visualization.html"><a href="visualization.html#visualizing-crime-over-time"><i class="fa fa-check"></i><b>8.2</b> Visualizing crime over time</a><ul>
<li class="chapter" data-level="8.2.1" data-path="visualization.html"><a href="visualization.html#heatmaps"><i class="fa fa-check"></i><b>8.2.1</b> Heatmaps</a></li>
<li class="chapter" data-level="8.2.2" data-path="visualization.html"><a href="visualization.html#a-geographical-hot-spot-map"><i class="fa fa-check"></i><b>8.2.2</b> A Geographical Hot Spot Map</a></li>
<li class="chapter" data-level="8.2.3" data-path="visualization.html"><a href="visualization.html#a-heatmap-of-the-united-states"><i class="fa fa-check"></i><b>8.2.3</b> A Heatmap of the United States</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="visualization.html"><a href="visualization.html#recitation"><i class="fa fa-check"></i><b>8.3</b> Recitation</a><ul>
<li class="chapter" data-level="8.3.1" data-path="visualization.html"><a href="visualization.html#bar-charts"><i class="fa fa-check"></i><b>8.3.1</b> Bar Charts</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="visualization.html"><a href="visualization.html#assignment-6"><i class="fa fa-check"></i><b>8.4</b> Assignment</a><ul>
<li class="chapter" data-level="8.4.1" data-path="visualization.html"><a href="visualization.html#part-1---election-forecasting-revisited"><i class="fa fa-check"></i><b>8.4.1</b> Part 1 - Election Forecasting Revisited</a></li>
<li class="chapter" data-level="8.4.2" data-path="visualization.html"><a href="visualization.html#part-2---visualizing-network-data"><i class="fa fa-check"></i><b>8.4.2</b> Part 2 - Visualizing Network Data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="final-exam.html"><a href="final-exam.html"><i class="fa fa-check"></i><b>9</b> Final Exam</a><ul>
<li class="chapter" data-level="9.1" data-path="final-exam.html"><a href="final-exam.html#part-1---estimating-miles-per-gallon"><i class="fa fa-check"></i><b>9.1</b> Part 1 - Estimating Miles Per Gallon</a><ul>
<li class="chapter" data-level="9.1.1" data-path="final-exam.html"><a href="final-exam.html#problem-1---exploratory-data-analysis"><i class="fa fa-check"></i><b>9.1.1</b> Problem 1 - Exploratory Data Analysis</a></li>
<li class="chapter" data-level="9.1.2" data-path="final-exam.html"><a href="final-exam.html#problem-2---simple-linear-regression"><i class="fa fa-check"></i><b>9.1.2</b> Problem 2 - Simple Linear Regression</a></li>
<li class="chapter" data-level="9.1.3" data-path="final-exam.html"><a href="final-exam.html#problem-3---adding-more-variables"><i class="fa fa-check"></i><b>9.1.3</b> Problem 3 - Adding More Variables</a></li>
<li class="chapter" data-level="9.1.4" data-path="final-exam.html"><a href="final-exam.html#problem-4---cart-and-randomforest"><i class="fa fa-check"></i><b>9.1.4</b> Problem 4 - CART and Randomforest</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="final-exam.html"><a href="final-exam.html#part-2---predicting-heart-disease"><i class="fa fa-check"></i><b>9.2</b> Part 2 - Predicting Heart Disease</a><ul>
<li class="chapter" data-level="9.2.1" data-path="final-exam.html"><a href="final-exam.html#problem-12---exploratory-data-analysis-and-logistic-regression"><i class="fa fa-check"></i><b>9.2.1</b> Problem 1&amp;2 - Exploratory Data Analysis and Logistic Regression</a></li>
<li class="chapter" data-level="9.2.2" data-path="final-exam.html"><a href="final-exam.html#problem-3---adding-more-variables-1"><i class="fa fa-check"></i><b>9.2.2</b> Problem 3 - Adding More Variables</a></li>
<li class="chapter" data-level="9.2.3" data-path="final-exam.html"><a href="final-exam.html#problem-4---cart"><i class="fa fa-check"></i><b>9.2.3</b> Problem 4 - CART</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="final-exam.html"><a href="final-exam.html#part-3---understanding-users-spending"><i class="fa fa-check"></i><b>9.3</b> Part 3 - Understanding Userâ€™s Spending</a><ul>
<li class="chapter" data-level="9.3.1" data-path="final-exam.html"><a href="final-exam.html#problem-1-and-2"><i class="fa fa-check"></i><b>9.3.1</b> Problem 1 and 2</a></li>
<li class="chapter" data-level="9.3.2" data-path="final-exam.html"><a href="final-exam.html#problem-3---clustering"><i class="fa fa-check"></i><b>9.3.2</b> Problem 3 - Clustering</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Analytics Edge - EdX</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="final-exam" class="section level1">
<h1><span class="header-section-number">Unit 9</span> Final Exam</h1>
<div id="part-1---estimating-miles-per-gallon" class="section level2">
<h2><span class="header-section-number">9.1</span> Part 1 - Estimating Miles Per Gallon</h2>
<div id="problem-1---exploratory-data-analysis" class="section level3">
<h3><span class="header-section-number">9.1.1</span> Problem 1 - Exploratory Data Analysis</h3>
<div class="sourceCode" id="cb841"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb841-1" title="1">train &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;final/mpg_train.csv&quot;</span>)</a>
<a class="sourceLine" id="cb841-2" title="2"><span class="kw">nrow</span>(train)</a></code></pre></div>
<pre><code>## [1] 298</code></pre>
<div class="sourceCode" id="cb843"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb843-1" title="1"><span class="kw">summary</span>(train)</a></code></pre></div>
<pre><code>##       mpg          cylinders      displacement     horsepower        weight    
##  Min.   : 9.00   Min.   :3.000   Min.   : 70.0   Min.   : 46.0   Min.   :1649  
##  1st Qu.:17.60   1st Qu.:4.000   1st Qu.:105.5   1st Qu.: 78.0   1st Qu.:2264  
##  Median :23.00   Median :4.000   Median :146.0   Median : 94.0   Median :2795  
##  Mean   :23.40   Mean   :5.389   Mean   :190.4   Mean   :103.9   Mean   :2954  
##  3rd Qu.:28.07   3rd Qu.:6.000   3rd Qu.:256.0   3rd Qu.:116.0   3rd Qu.:3464  
##  Max.   :46.60   Max.   :8.000   Max.   :455.0   Max.   :230.0   Max.   :5140  
##                                                  NA&#39;s   :5                     
##   acceleration     model_year             car_name  
##  Min.   : 8.00   Min.   :70.00   ford pinto   :  5  
...</code></pre>
<div class="sourceCode" id="cb845"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb845-1" title="1"><span class="kw">table</span>(train<span class="op">$</span>model_year)</a></code></pre></div>
<pre><code>## 
## 70 71 72 73 74 75 76 77 78 79 80 81 82 
## 22 20 22 34 21 23 26 18 25 21 23 21 22</code></pre>
<div class="sourceCode" id="cb847"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb847-1" title="1"><span class="kw">min</span>(train<span class="op">$</span>displacement)</a></code></pre></div>
<pre><code>## [1] 70</code></pre>
<div class="sourceCode" id="cb849"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb849-1" title="1"><span class="kw">subset</span>(train, displacement<span class="op">==</span><span class="dv">70</span>)</a></code></pre></div>
<pre><code>##      mpg cylinders displacement horsepower weight acceleration model_year
## 38  19.0         3           70         97   2330         13.5         72
## 134 23.7         3           70        100   2420         12.5         80
## 276 18.0         3           70         90   2124         13.5         73
##            car_name
## 38  mazda rx2 coupe
## 134   mazda rx-7 gs
## 276       maxda rx3</code></pre>
<div class="sourceCode" id="cb851"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb851-1" title="1"><span class="kw">table</span>(train<span class="op">$</span>cylinders)</a></code></pre></div>
<pre><code>## 
##   3   4   5   6   8 
##   3 155   3  67  70</code></pre>
<div class="sourceCode" id="cb853"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb853-1" title="1">train &lt;-<span class="st"> </span>train[<span class="kw">rowSums</span>(<span class="kw">is.na</span>(train)) <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, ]</a></code></pre></div>
</div>
<div id="problem-2---simple-linear-regression" class="section level3">
<h3><span class="header-section-number">9.1.2</span> Problem 2 - Simple Linear Regression</h3>
<div class="sourceCode" id="cb854"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb854-1" title="1"><span class="kw">summary</span>(train)</a></code></pre></div>
<pre><code>##       mpg          cylinders      displacement     horsepower        weight    
##  Min.   : 9.00   Min.   :3.000   Min.   : 70.0   Min.   : 46.0   Min.   :1649  
##  1st Qu.:17.50   1st Qu.:4.000   1st Qu.:107.0   1st Qu.: 78.0   1st Qu.:2264  
##  Median :23.00   Median :4.000   Median :146.0   Median : 94.0   Median :2790  
##  Mean   :23.32   Mean   :5.406   Mean   :191.3   Mean   :103.9   Mean   :2961  
##  3rd Qu.:28.00   3rd Qu.:6.000   3rd Qu.:258.0   3rd Qu.:116.0   3rd Qu.:3520  
##  Max.   :46.60   Max.   :8.000   Max.   :455.0   Max.   :230.0   Max.   :5140  
##                                                                                
##   acceleration     model_year                  car_name  
##  Min.   : 8.00   Min.   :70.00   ford pinto        :  5  
...</code></pre>
<div class="sourceCode" id="cb856"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb856-1" title="1"><span class="kw">cor</span>(train<span class="op">$</span>mpg, train<span class="op">$</span>weight)</a></code></pre></div>
<pre><code>## [1] -0.8025754</code></pre>
<div class="sourceCode" id="cb858"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb858-1" title="1"><span class="co">#2.2 Linear model predicts mpg</span></a>
<a class="sourceLine" id="cb858-2" title="2">carMod &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg <span class="op">~</span><span class="st"> </span>weight, <span class="dt">data =</span> train)</a>
<a class="sourceLine" id="cb858-3" title="3"><span class="kw">summary</span>(carMod)</a></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = mpg ~ weight, data = train)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -11.546  -2.735  -0.465   2.315  16.950 
## 
## Coefficients:
##               Estimate Std. Error t value Pr(&gt;|t|)    
...</code></pre>
<div class="sourceCode" id="cb860"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb860-1" title="1">test &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;final/mpg_test.csv&quot;</span>)</a>
<a class="sourceLine" id="cb860-2" title="2">test &lt;-<span class="st"> </span>test[<span class="kw">rowSums</span>(<span class="kw">is.na</span>(test)) <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, ]</a>
<a class="sourceLine" id="cb860-3" title="3">pred &lt;-<span class="st"> </span><span class="kw">predict</span>(carMod, <span class="dt">newdata =</span> test)</a>
<a class="sourceLine" id="cb860-4" title="4"><span class="co">#R-squared</span></a>
<a class="sourceLine" id="cb860-5" title="5">SSE =<span class="st"> </span><span class="kw">sum</span>((test<span class="op">$</span>mpg <span class="op">-</span><span class="st"> </span>pred)<span class="op">^</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb860-6" title="6">SST =<span class="st"> </span><span class="kw">sum</span>((test<span class="op">$</span>mpg <span class="op">-</span><span class="st"> </span><span class="kw">mean</span>(test<span class="op">$</span>mpg))<span class="op">^</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb860-7" title="7"><span class="dv">1</span><span class="op">-</span><span class="st"> </span>SSE<span class="op">/</span>SST <span class="co">#R-squared</span></a></code></pre></div>
<pre><code>## [1] 0.8100056</code></pre>
</div>
<div id="problem-3---adding-more-variables" class="section level3">
<h3><span class="header-section-number">9.1.3</span> Problem 3 - Adding More Variables</h3>
<div class="sourceCode" id="cb862"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb862-1" title="1"><span class="co">#Check for multicollinearity</span></a>
<a class="sourceLine" id="cb862-2" title="2"><span class="kw">cor</span>(train[,<span class="op">!</span>(<span class="kw">names</span>(train) <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;car_name&quot;</span>))])</a></code></pre></div>
<pre><code>##                     mpg  cylinders displacement horsepower     weight
## mpg           1.0000000 -0.7479941   -0.7769034 -0.7542429 -0.8025754
## cylinders    -0.7479941  1.0000000    0.9469783  0.8266263  0.8915051
## displacement -0.7769034  0.9469783    1.0000000  0.8793060  0.9274907
## horsepower   -0.7542429  0.8266263    0.8793060  1.0000000  0.8520960
## weight       -0.8025754  0.8915051    0.9274907  0.8520960  1.0000000
## acceleration  0.3915798 -0.4661569   -0.5041429 -0.6718056 -0.3766874
## model_year    0.5718941 -0.3008985   -0.3261212 -0.3942260 -0.2772049
##              acceleration model_year
## mpg             0.3915798  0.5718941
...</code></pre>
<div class="sourceCode" id="cb864"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb864-1" title="1">carMod &lt;-<span class="st"> </span><span class="kw">lm</span>(mpg <span class="op">~</span><span class="st"> </span>weight<span class="op">+</span>acceleration<span class="op">+</span>model_year, <span class="dt">data =</span> train)</a>
<a class="sourceLine" id="cb864-2" title="2"><span class="kw">summary</span>(carMod)</a></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = mpg ~ weight + acceleration + model_year, data = train)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -8.1940 -2.4146 -0.1621  1.9670 14.4195 
## 
## Coefficients:
##                Estimate Std. Error t value Pr(&gt;|t|)    
...</code></pre>
<div class="sourceCode" id="cb866"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb866-1" title="1">pred &lt;-<span class="st"> </span><span class="kw">predict</span>(carMod, <span class="dt">newdata =</span> test)</a>
<a class="sourceLine" id="cb866-2" title="2"><span class="co">#R-squared</span></a>
<a class="sourceLine" id="cb866-3" title="3">SSE =<span class="st"> </span><span class="kw">sum</span>((test<span class="op">$</span>mpg <span class="op">-</span><span class="st"> </span>pred)<span class="op">^</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb866-4" title="4">SST =<span class="st"> </span><span class="kw">sum</span>((test<span class="op">$</span>mpg <span class="op">-</span><span class="st"> </span><span class="kw">mean</span>(test<span class="op">$</span>mpg))<span class="op">^</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb866-5" title="5"><span class="dv">1</span><span class="op">-</span><span class="st"> </span>SSE<span class="op">/</span>SST</a></code></pre></div>
<pre><code>## [1] 0.8840428</code></pre>
</div>
<div id="problem-4---cart-and-randomforest" class="section level3">
<h3><span class="header-section-number">9.1.4</span> Problem 4 - CART and Randomforest</h3>
<div class="sourceCode" id="cb868"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb868-1" title="1"><span class="kw">library</span>(rpart)</a>
<a class="sourceLine" id="cb868-2" title="2"><span class="kw">library</span>(rpart.plot)</a>
<a class="sourceLine" id="cb868-3" title="3">regTree &lt;-<span class="st"> </span><span class="kw">rpart</span>(mpg <span class="op">~</span><span class="st"> </span>weight, <span class="dt">data =</span> train, <span class="dt">cp=</span><span class="fl">0.05</span>)</a>
<a class="sourceLine" id="cb868-4" title="4"><span class="kw">prp</span>(regTree)</a></code></pre></div>
<p><img src="analytics_edge_files/figure-html/unnamed-chunk-128-1.png" width="672" /></p>
<div class="sourceCode" id="cb869"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb869-1" title="1">pred &lt;-<span class="st"> </span><span class="kw">predict</span>(regTree, <span class="dt">newdata =</span> test)</a>
<a class="sourceLine" id="cb869-2" title="2"></a>
<a class="sourceLine" id="cb869-3" title="3"><span class="co">#R-squared</span></a>
<a class="sourceLine" id="cb869-4" title="4">SSE =<span class="st"> </span><span class="kw">sum</span>((test<span class="op">$</span>mpg <span class="op">-</span><span class="st"> </span>pred)<span class="op">^</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb869-5" title="5">SST =<span class="st"> </span><span class="kw">sum</span>((test<span class="op">$</span>mpg <span class="op">-</span><span class="st"> </span><span class="kw">mean</span>(test<span class="op">$</span>mpg))<span class="op">^</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb869-6" title="6"><span class="dv">1</span><span class="op">-</span><span class="st"> </span>SSE<span class="op">/</span>SST</a></code></pre></div>
<pre><code>## [1] 0.8000141</code></pre>
<div class="sourceCode" id="cb871"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb871-1" title="1"><span class="co">#Cross validation</span></a>
<a class="sourceLine" id="cb871-2" title="2"><span class="kw">RNGversion</span>(<span class="st">&quot;3.5.3&quot;</span>)</a></code></pre></div>
<pre><code>## Warning in RNGkind(&quot;Mersenne-Twister&quot;, &quot;Inversion&quot;, &quot;Rounding&quot;): non-uniform
## &#39;Rounding&#39; sampler used</code></pre>
<div class="sourceCode" id="cb873"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb873-1" title="1"><span class="kw">set.seed</span>(<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb873-2" title="2"><span class="kw">library</span>(caret)</a>
<a class="sourceLine" id="cb873-3" title="3"><span class="kw">library</span>(e1071)</a>
<a class="sourceLine" id="cb873-4" title="4">numFolds &lt;-<span class="st"> </span><span class="kw">trainControl</span>(<span class="dt">method=</span><span class="st">&quot;cv&quot;</span>, <span class="dt">number=</span><span class="dv">10</span>) <span class="co"># cv = croos validation; numer = number of folds(buckets)</span></a>
<a class="sourceLine" id="cb873-5" title="5">cpGrid &lt;-<span class="st"> </span><span class="kw">expand.grid</span>(<span class="dt">.cp=</span><span class="kw">seq</span>(<span class="fl">0.001</span>,<span class="fl">0.1</span>,<span class="fl">0.01</span>))<span class="co">#cp paramaeters to teast as numbers from 0.01 to 0.5, in increments of 0.01.</span></a>
<a class="sourceLine" id="cb873-6" title="6"><span class="kw">train</span>(mpg <span class="op">~</span><span class="st"> </span>weight, <span class="dt">data =</span> train, <span class="dt">method=</span><span class="st">&quot;rpart&quot;</span>, <span class="dt">trControl=</span>numFolds, <span class="dt">tuneGrid =</span> cpGrid)</a></code></pre></div>
<pre><code>## CART 
## 
## 293 samples
##   1 predictor
## 
## No pre-processing
## Resampling: Cross-Validated (10 fold) 
## Summary of sample sizes: 264, 264, 263, 264, 264, 264, ... 
## Resampling results across tuning parameters:
## 
...</code></pre>
<div class="sourceCode" id="cb875"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb875-1" title="1"><span class="co">#RandomForest</span></a>
<a class="sourceLine" id="cb875-2" title="2"><span class="kw">library</span>(randomForest)</a>
<a class="sourceLine" id="cb875-3" title="3">carsRF &lt;-<span class="st"> </span><span class="kw">randomForest</span>(mpg <span class="op">~</span><span class="st"> </span>weight, <span class="dt">data=</span>train, <span class="dt">nodesize=</span><span class="dv">75</span>, <span class="dt">ntree=</span><span class="dv">15</span>)</a>
<a class="sourceLine" id="cb875-4" title="4">predRF &lt;-<span class="st"> </span><span class="kw">predict</span>(carsRF, <span class="dt">newdata=</span>test)</a>
<a class="sourceLine" id="cb875-5" title="5"></a>
<a class="sourceLine" id="cb875-6" title="6">SSE =<span class="st"> </span><span class="kw">sum</span>((test<span class="op">$</span>mpg <span class="op">-</span><span class="st"> </span>predRF)<span class="op">^</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb875-7" title="7">SST =<span class="st"> </span><span class="kw">sum</span>((test<span class="op">$</span>mpg <span class="op">-</span><span class="st"> </span><span class="kw">mean</span>(test<span class="op">$</span>mpg))<span class="op">^</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb875-8" title="8"><span class="dv">1</span><span class="op">-</span><span class="st"> </span>SSE<span class="op">/</span>SST</a></code></pre></div>
<pre><code>## [1] 0.8303305</code></pre>
</div>
</div>
<div id="part-2---predicting-heart-disease" class="section level2">
<h2><span class="header-section-number">9.2</span> Part 2 - Predicting Heart Disease</h2>
<div id="problem-12---exploratory-data-analysis-and-logistic-regression" class="section level3">
<h3><span class="header-section-number">9.2.1</span> Problem 1&amp;2 - Exploratory Data Analysis and Logistic Regression</h3>
<div class="sourceCode" id="cb877"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb877-1" title="1">data &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;final/data_hd.csv&quot;</span>)</a>
<a class="sourceLine" id="cb877-2" title="2"><span class="kw">table</span>(data<span class="op">$</span>MajorVessels)</a></code></pre></div>
<pre><code>## 
##   0   1   2   3 
## 174  65  38  20</code></pre>
<div class="sourceCode" id="cb879"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb879-1" title="1"><span class="kw">tapply</span>(data<span class="op">$</span>Chol, data<span class="op">$</span>HD, mean)</a></code></pre></div>
<pre><code>##        0        1 
## 243.4938 251.8540</code></pre>
<div class="sourceCode" id="cb881"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb881-1" title="1"><span class="kw">library</span>(caTools)</a>
<a class="sourceLine" id="cb881-2" title="2"><span class="kw">RNGversion</span>(<span class="st">&quot;3.5.3&quot;</span>)</a></code></pre></div>
<pre><code>## Warning in RNGkind(&quot;Mersenne-Twister&quot;, &quot;Inversion&quot;, &quot;Rounding&quot;): non-uniform
## &#39;Rounding&#39; sampler used</code></pre>
<div class="sourceCode" id="cb883"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb883-1" title="1"><span class="kw">set.seed</span>(<span class="dv">100</span>)</a>
<a class="sourceLine" id="cb883-2" title="2">spl &lt;-<span class="st"> </span><span class="kw">sample.split</span>(data<span class="op">$</span>HD, <span class="fl">0.7</span>)</a>
<a class="sourceLine" id="cb883-3" title="3">train &lt;-<span class="st"> </span><span class="kw">subset</span>(data, spl <span class="op">==</span><span class="st"> </span><span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb883-4" title="4">test &lt;-<span class="st"> </span><span class="kw">subset</span>(data, spl <span class="op">==</span><span class="st"> </span><span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb883-5" title="5"></a>
<a class="sourceLine" id="cb883-6" title="6"><span class="co">#2.2 - Train a logistic regression model using Thalach as the independent variable</span></a>
<a class="sourceLine" id="cb883-7" title="7">logModel &lt;-<span class="st"> </span><span class="kw">glm</span>(HD <span class="op">~</span><span class="st"> </span>Thalach, <span class="dt">data =</span> train, <span class="dt">family =</span> <span class="st">&quot;binomial&quot;</span>)</a>
<a class="sourceLine" id="cb883-8" title="8"><span class="kw">summary</span>(logModel)</a></code></pre></div>
<pre><code>## 
## Call:
## glm(formula = HD ~ Thalach, family = &quot;binomial&quot;, data = train)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -2.0901  -0.9601  -0.6145   1.0788   2.0442  
## 
## Coefficients:
##              Estimate Std. Error z value Pr(&gt;|z|)    
...</code></pre>
<div class="sourceCode" id="cb885"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb885-1" title="1">pred &lt;-<span class="st"> </span><span class="kw">predict</span>(logModel, <span class="dt">type=</span><span class="st">&quot;response&quot;</span>, <span class="dt">newdata =</span> test)</a>
<a class="sourceLine" id="cb885-2" title="2"><span class="kw">summary</span>(pred)</a></code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##  0.1809  0.3323  0.4476  0.4924  0.6462  0.9161</code></pre>
<div class="sourceCode" id="cb887"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb887-1" title="1"><span class="kw">table</span>(test<span class="op">$</span>HD, pred <span class="op">&gt;</span><span class="fl">0.5</span>)</a></code></pre></div>
<pre><code>##    
##     FALSE TRUE
##   0    37   11
##   1    13   28</code></pre>
<div class="sourceCode" id="cb889"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb889-1" title="1">(<span class="dv">37</span><span class="op">+</span><span class="dv">28</span>)<span class="op">/</span><span class="kw">nrow</span>(test)</a></code></pre></div>
<pre><code>## [1] 0.7303371</code></pre>
<div class="sourceCode" id="cb891"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb891-1" title="1"><span class="co">#Baseline model</span></a>
<a class="sourceLine" id="cb891-2" title="2"><span class="kw">table</span>(test<span class="op">$</span>HD)</a></code></pre></div>
<pre><code>## 
##  0  1 
## 48 41</code></pre>
<div class="sourceCode" id="cb893"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb893-1" title="1"><span class="dv">48</span><span class="op">/</span><span class="dv">89</span></a></code></pre></div>
<pre><code>## [1] 0.5393258</code></pre>
</div>
<div id="problem-3---adding-more-variables-1" class="section level3">
<h3><span class="header-section-number">9.2.2</span> Problem 3 - Adding More Variables</h3>
<div class="sourceCode" id="cb895"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb895-1" title="1">logModel &lt;-<span class="st"> </span><span class="kw">glm</span>(HD <span class="op">~</span><span class="st"> </span>., <span class="dt">data =</span> train, <span class="dt">family =</span> <span class="st">&quot;binomial&quot;</span>)</a>
<a class="sourceLine" id="cb895-2" title="2"><span class="kw">summary</span>(logModel)</a></code></pre></div>
<pre><code>## 
## Call:
## glm(formula = HD ~ ., family = &quot;binomial&quot;, data = train)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -2.4678  -0.6836  -0.2625   0.6075   2.3939  
## 
## Coefficients:
##               Estimate Std. Error z value Pr(&gt;|z|)    
...</code></pre>
<div class="sourceCode" id="cb897"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb897-1" title="1">pred &lt;-<span class="st"> </span><span class="kw">predict</span>(logModel, <span class="dt">type=</span><span class="st">&quot;response&quot;</span>, <span class="dt">newdata =</span> test)</a>
<a class="sourceLine" id="cb897-2" title="2"><span class="kw">summary</span>(pred)</a></code></pre></div>
<pre><code>##     Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
## 0.008669 0.169935 0.425795 0.487866 0.878065 0.998005</code></pre>
<div class="sourceCode" id="cb899"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb899-1" title="1"><span class="kw">table</span>(test<span class="op">$</span>HD, pred <span class="op">&gt;</span><span class="fl">0.5</span>)</a></code></pre></div>
<pre><code>##    
##     FALSE TRUE
##   0    45    3
##   1     5   36</code></pre>
<div class="sourceCode" id="cb901"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb901-1" title="1">(<span class="dv">45</span><span class="op">+</span><span class="dv">36</span>)<span class="op">/</span><span class="dv">89</span> <span class="co">#Accurcay</span></a></code></pre></div>
<pre><code>## [1] 0.9101124</code></pre>
<div class="sourceCode" id="cb903"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb903-1" title="1"><span class="co">#ROC Curve</span></a>
<a class="sourceLine" id="cb903-2" title="2"><span class="kw">library</span>(ROCR)</a>
<a class="sourceLine" id="cb903-3" title="3">ROCRpred &lt;-<span class="st"> </span><span class="kw">prediction</span>(pred, test<span class="op">$</span>HD)</a>
<a class="sourceLine" id="cb903-4" title="4">ROCRperf &lt;-<span class="st"> </span><span class="kw">performance</span>(ROCRpred, <span class="st">&quot;tpr&quot;</span>,<span class="st">&quot;fpr&quot;</span>)</a>
<a class="sourceLine" id="cb903-5" title="5"><span class="kw">plot</span>(ROCRperf, <span class="dt">colorize=</span>T, <span class="dt">print.cutoffs.at=</span><span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="fl">0.1</span>), <span class="dt">text.adj=</span><span class="kw">c</span>(<span class="op">-</span><span class="fl">0.2</span>,<span class="fl">1.7</span>))</a></code></pre></div>
<p><img src="analytics_edge_files/figure-html/unnamed-chunk-130-1.png" width="672" /></p>
<div class="sourceCode" id="cb904"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb904-1" title="1"><span class="co">#AUC</span></a>
<a class="sourceLine" id="cb904-2" title="2"><span class="kw">as.numeric</span>(<span class="kw">performance</span>(ROCRpred, <span class="st">&quot;auc&quot;</span>)<span class="op">@</span>y.values)</a></code></pre></div>
<pre><code>## [1] 0.9253049</code></pre>
</div>
<div id="problem-4---cart" class="section level3">
<h3><span class="header-section-number">9.2.3</span> Problem 4 - CART</h3>
<div class="sourceCode" id="cb906"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb906-1" title="1"><span class="kw">RNGversion</span>(<span class="st">&quot;3.5.3&quot;</span>)</a></code></pre></div>
<pre><code>## Warning in RNGkind(&quot;Mersenne-Twister&quot;, &quot;Inversion&quot;, &quot;Rounding&quot;): non-uniform
## &#39;Rounding&#39; sampler used</code></pre>
<div class="sourceCode" id="cb908"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb908-1" title="1"><span class="kw">set.seed</span>(<span class="dv">100</span>)</a>
<a class="sourceLine" id="cb908-2" title="2">numFolds &lt;-<span class="st"> </span><span class="kw">trainControl</span>(<span class="dt">method=</span><span class="st">&quot;cv&quot;</span>, <span class="dt">number=</span><span class="dv">10</span>) <span class="co"># cv = croos validation; numer = number of folds(buckets)</span></a>
<a class="sourceLine" id="cb908-3" title="3">cpGrid &lt;-<span class="st"> </span><span class="kw">expand.grid</span>(<span class="dt">.cp=</span><span class="kw">seq</span>(<span class="fl">0.01</span>,<span class="fl">0.05</span>,<span class="fl">0.001</span>))<span class="co">#cp paramaeters to teast as numbers from 0.01 to 0.5, in increments of 0.01.</span></a>
<a class="sourceLine" id="cb908-4" title="4">train<span class="op">$</span>HD &lt;-<span class="st"> </span><span class="kw">as.factor</span>(train<span class="op">$</span>HD) </a>
<a class="sourceLine" id="cb908-5" title="5"><span class="kw">train</span>(HD<span class="op">~</span><span class="st"> </span>., <span class="dt">data =</span> train, <span class="dt">method=</span><span class="st">&quot;rpart&quot;</span>, <span class="dt">trControl=</span>numFolds, <span class="dt">tuneGrid =</span> cpGrid)</a></code></pre></div>
<pre><code>## CART 
## 
## 208 samples
##   9 predictor
##   2 classes: &#39;0&#39;, &#39;1&#39; 
## 
## No pre-processing
## Resampling: Cross-Validated (10 fold) 
## Summary of sample sizes: 188, 187, 187, 187, 187, 187, ... 
## Resampling results across tuning parameters:
...</code></pre>
</div>
</div>
<div id="part-3---understanding-users-spending" class="section level2">
<h2><span class="header-section-number">9.3</span> Part 3 - Understanding Userâ€™s Spending</h2>
<div id="problem-1-and-2" class="section level3">
<h3><span class="header-section-number">9.3.1</span> Problem 1 and 2</h3>
<div class="sourceCode" id="cb910"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb910-1" title="1"><span class="kw">library</span>(caret)</a>
<a class="sourceLine" id="cb910-2" title="2">data &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;final/data_wholesale.csv&quot;</span>)</a>
<a class="sourceLine" id="cb910-3" title="3"><span class="kw">summary</span>(data)</a></code></pre></div>
<pre><code>##      Fresh             Milk          Grocery          Frozen       
##  Min.   :     3   Min.   :   55   Min.   :    3   Min.   :   25.0  
##  1st Qu.:  3128   1st Qu.: 1533   1st Qu.: 2153   1st Qu.:  742.2  
##  Median :  8504   Median : 3627   Median : 4756   Median : 1526.0  
##  Mean   : 12000   Mean   : 5796   Mean   : 7951   Mean   : 3071.9  
##  3rd Qu.: 16934   3rd Qu.: 7190   3rd Qu.:10656   3rd Qu.: 3554.2  
##  Max.   :112151   Max.   :73498   Max.   :92780   Max.   :60869.0  
##  Detergents_Paper   Delicatessen         userid     
##  Min.   :    3.0   Min.   :    3.0   Min.   :  1.0  
##  1st Qu.:  256.8   1st Qu.:  408.2   1st Qu.:110.8  
...</code></pre>
<div class="sourceCode" id="cb912"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb912-1" title="1">spending &lt;-<span class="st"> </span>data</a>
<a class="sourceLine" id="cb912-2" title="2">spending<span class="op">$</span>userid &lt;-<span class="st"> </span><span class="ot">NULL</span></a>
<a class="sourceLine" id="cb912-3" title="3"></a>
<a class="sourceLine" id="cb912-4" title="4">preproc &lt;-<span class="st"> </span><span class="kw">preProcess</span>(spending)</a>
<a class="sourceLine" id="cb912-5" title="5">spendingnorm &lt;-<span class="st"> </span><span class="kw">predict</span>(preproc, spending)</a>
<a class="sourceLine" id="cb912-6" title="6"></a>
<a class="sourceLine" id="cb912-7" title="7"><span class="kw">summary</span>(spendingnorm)</a></code></pre></div>
<pre><code>##      Fresh              Milk            Grocery            Frozen        
##  Min.   :-0.9486   Min.   :-0.7779   Min.   :-0.8364   Min.   :-0.62763  
##  1st Qu.:-0.7015   1st Qu.:-0.5776   1st Qu.:-0.6101   1st Qu.:-0.47988  
##  Median :-0.2764   Median :-0.2939   Median :-0.3363   Median :-0.31844  
##  Mean   : 0.0000   Mean   : 0.0000   Mean   : 0.0000   Mean   : 0.00000  
##  3rd Qu.: 0.3901   3rd Qu.: 0.1889   3rd Qu.: 0.2846   3rd Qu.: 0.09935  
##  Max.   : 7.9187   Max.   : 9.1732   Max.   : 8.9264   Max.   :11.90545  
##  Detergents_Paper   Delicatessen    
##  Min.   :-0.6037   Min.   :-0.5396  
##  1st Qu.:-0.5505   1st Qu.:-0.3960  
...</code></pre>
</div>
<div id="problem-3---clustering" class="section level3">
<h3><span class="header-section-number">9.3.2</span> Problem 3 - Clustering</h3>
<div class="sourceCode" id="cb914"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb914-1" title="1">distances &lt;-<span class="st"> </span><span class="kw">dist</span>(spendingnorm, <span class="dt">method =</span> <span class="st">&quot;euclidean&quot;</span>)</a>
<a class="sourceLine" id="cb914-2" title="2">dend &lt;-<span class="st"> </span><span class="kw">hclust</span>(distances, <span class="dt">method =</span> <span class="st">&quot;ward.D&quot;</span>)</a>
<a class="sourceLine" id="cb914-3" title="3"><span class="kw">plot</span>(dend, <span class="dt">labels =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<p><img src="analytics_edge_files/figure-html/unnamed-chunk-133-1.png" width="672" /></p>
<div class="sourceCode" id="cb915"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb915-1" title="1"><span class="co">#3.2</span></a>
<a class="sourceLine" id="cb915-2" title="2"><span class="kw">RNGversion</span>(<span class="st">&quot;3.5.3&quot;</span>)</a></code></pre></div>
<pre><code>## Warning in RNGkind(&quot;Mersenne-Twister&quot;, &quot;Inversion&quot;, &quot;Rounding&quot;): non-uniform
## &#39;Rounding&#39; sampler used</code></pre>
<div class="sourceCode" id="cb917"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb917-1" title="1"><span class="kw">set.seed</span>(<span class="dv">100</span>)</a>
<a class="sourceLine" id="cb917-2" title="2"></a>
<a class="sourceLine" id="cb917-3" title="3"><span class="co">#K-means cluser</span></a>
<a class="sourceLine" id="cb917-4" title="4">KMC &lt;-<span class="st"> </span><span class="kw">kmeans</span>(spendingnorm, <span class="dt">centers =</span> <span class="dv">4</span>)</a>
<a class="sourceLine" id="cb917-5" title="5"><span class="kw">str</span>(KMC)</a></code></pre></div>
<pre><code>## List of 9
##  $ cluster     : int [1:440] 2 1 1 2 3 2 2 2 2 1 ...
##  $ centers     : num [1:4, 1:6] -0.513 -0.228 1.657 0.52 0.645 ...
##   ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. ..$ : chr [1:4] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot;
##   .. ..$ : chr [1:6] &quot;Fresh&quot; &quot;Milk&quot; &quot;Grocery&quot; &quot;Frozen&quot; ...
##  $ totss       : num 2634
##  $ withinss    : num [1:4] 188 235 440 491
##  $ tot.withinss: num 1354
##  $ betweenss   : num 1280
...</code></pre>
<div class="sourceCode" id="cb919"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb919-1" title="1"><span class="kw">table</span>(KMC<span class="op">$</span>cluster)</a></code></pre></div>
<pre><code>## 
##   1   2   3   4 
##  96 269  63  12</code></pre>
<div class="sourceCode" id="cb921"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb921-1" title="1"><span class="kw">tapply</span>(data<span class="op">$</span>Frozen, KMC<span class="op">$</span>cluster, min)</a></code></pre></div>
<pre><code>##   1   2   3   4 
##  25  47 287  36</code></pre>
<div class="sourceCode" id="cb923"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb923-1" title="1"><span class="kw">tapply</span>(data<span class="op">$</span>Fresh, KMC<span class="op">$</span>cluster, mean)</a></code></pre></div>
<pre><code>##        1        2        3        4 
##  5509.25  9115.32 32957.98 18572.42</code></pre>
<div class="sourceCode" id="cb925"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb925-1" title="1"><span class="co">#Which cluster seems to be the biggest spenders?</span></a>
<a class="sourceLine" id="cb925-2" title="2"><span class="kw">tapply</span>(<span class="kw">rowSums</span>(spending), KMC<span class="op">$</span>cluster, mean)</a></code></pre></div>
<pre><code>##         1         2         3         4 
##  42821.14  20087.20  55680.51 133111.75</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="visualization.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection",
"download": ["pdf", "epub"]
}
});
});
</script>

</body>

</html>
